!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=30)}([function(t,e,n){"use strict";var r=n(1),o=function(){function t(t,e){this.width=t,this.height=e,this.assetsURL="//static.wi-fi.ru/mtt/banners/assets/",this.debug=!1,this.adfoxNoFallback=!1,this.device=function(){switch(!0){case t<=480:return r.a.DeviceMap.MOBILE;case t<=1024:return r.a.DeviceMap.TABLET;default:return r.a.DeviceMap.DESKTOP}}()}return t.prototype.debugLog=function(t){this.debug&&console.log("[MTT] "+t)},t.prototype.warn=function(t){console.warn("[MTT] ",t)},t}(),i=window.screen,a=i.width,s=i.height,c=i.availHeight,u=i.availWidth;e.a=new o(u||a,c||s)},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){!function(t){t.MOBILE="mobile",t.TABLET="tablet",t.DESKTOP="desktop"}(t.DeviceMap||(t.DeviceMap={})),function(t){t.DESTROY="DESTROY"}(t.Events||(t.Events={}))}(r||(r={}))},function(t,e,n){"use strict";var r,o=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=function(t){function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.apply(this,n)||this;return o.publicType=e.name,o}return o(e,t),e}(Error);e.a=i},function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return i}));var r=n(1);function o(t,e,n){var o=setInterval(e,n);return t.subscribe(r.a.Events.DESTROY,(function(){return clearInterval(o)})),o}function i(t,e,n){var o=setTimeout(e,n);return t.subscribe(r.a.Events.DESTROY,(function(){return clearTimeout(o)})),o}},function(t,e,n){"use strict";var r=0,o="",i="";var a=function(){function t(t,e){this.bannerType=t,this.styles=e,this.hold_index=!1,this.generateID=!1}return t.prototype.specifyName=function(t,e){return void 0===e&&(e=!1),this.specify=t,this.hold_index=e,this},t.prototype.withID=function(){return this.generateID=!0,this},t.prototype.build=function(t){var e=document.createElement(t||"div"),n=this.specify?"-"+this.specify:"",a="mtt-"+this.bannerType+n,s=function(t){t&&r||r++;var e=o+i,n=Math.floor(r/26),a=r-26*n;return a||(a=26,i?"Z"===i?o+=i:i=String.fromCharCode(i.charCodeAt(0)+1):i="A"),e+String.fromCharCode(64+a)}(this.hold_index);return this.styles&&Object.assign(e.style,this.styles),this.generateID&&(e.id=a+"-"+s),e.classList.add(a),e},t}();e.a=a},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){!function(t){t.LOAD="ADFOX.LOAD",t.RENDER="ADFOX.RENDER",t.STUB="ADFOX.STUB",t.ERROR="ADFOX.ERROR"}(t.CreationEvents||(t.CreationEvents={}))}(r||(r={}))},function(t,e,n){"use strict";n.d(e,"b",(function(){return d})),n.d(e,"d",(function(){return p})),n.d(e,"c",(function(){return h})),n.d(e,"a",(function(){return b}));var r,o=n(0),i=n(2),a=n(5),s=n(13),c=n(10),u=!1,l=!1,f=((r={})[a.a.CreationEvents.LOAD]="onLoad",r[a.a.CreationEvents.ERROR]="onError",r[a.a.CreationEvents.RENDER]="onRender",r[a.a.CreationEvents.STUB]="onStub",r);function d(t){var e,n=o.a.device,r=Object.assign({},t);if("object"!=typeof r.paramsAdaptive&&"object"!=typeof r.params)throw new s.a("Adfox","paramsAdaptive","or externalParams object");if("object"==typeof r.paramsAdaptive&&"object"==typeof r.paramsAdaptive[n]&&(r.params=r.paramsAdaptive[n],delete r.paramsAdaptive,e=!0),!e&&"object"!=typeof r.params)throw new i.a("Cannot find Adfox settings for device: "+n);var a={};return"object"==typeof r.additionalParams&&(a=r.additionalParams),Object.assign({},r,a)}function p(){if(!l&&!u&&!o.a.adfoxNoFallback){u=!0;var t=document.createElement("script");t.crossOrigin="anonymous",t.async=!0,t.src="https://yastatic.net/pcode/adfox/loader.js",document.body.appendChild(t)}}function h(t){"object"==typeof window.Ya&&"object"==typeof window.Ya.adfoxCode&&window.Ya.adfoxCode.reload&&window.Ya.adfoxCode.reload(t)}function b(t,e){var n,r;e&&Object.keys(f).forEach((function(n){var r=f[n],o=function(){e.emit(n,arguments)};if("function"==typeof t[r]){var i=t[r];t[r]=function(){i.apply(this,arguments),o.apply(void 0,arguments)}}else t[r]=o})),o.a.debugLog("Adfox params: "+Object(c.a)(t)),"object"==typeof window.Ya&&"object"==typeof window.Ya.adfoxCode&&window.Ya.adfoxCode.create?(l=!0,window.Ya.adfoxCode.create(t)):(p(),(n=window)[r="adfoxAsyncParams"]=n[r]||[],n[r].push(t))}},function(t,e,n){"use strict";var r=n(0),o=n(10),i=function(){function t(t){this.logInfo="",this.reset(),this.logInfo=t?t+"_":""}return t.prototype.emit=function(t,e){this.Events[t]&&(r.a.debugLog("Emit event: "+this.logInfo+t+". Args: "+Object(o.a)(e)),this.Events[t].map((function(t){return t.apply(void 0,e)})))},t.prototype.subscribe=function(t,e){this.Events[t]||(this.Events[t]=[]),this.Events[t].push(e)},t.prototype.subscribeMany=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];n.forEach((function(n){return e.subscribe(n,t)}))},t.prototype.once=function(t,e){var n=this,r=function(){e.apply(void 0,arguments),n.unsubscribe(t,r)};this.subscribe(t,r)},t.prototype.unsubscribe=function(t,e){if(e){if(this.Events[t])for(var n=this.Events[t].length-1;n>=0;n--)if(this.Events[t][n]===e){delete this.Events[t][n];break}}else delete this.Events[t]},t.prototype.reset=function(){this.Events={}},t}();e.a=i},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(17);function o(t){return function(e,n){Object(r.a)(e,n,t)}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));var r,o,i=n(5),a=n(1);!function(t){var e,n;!function(t){t.SHOW_BANNER="SHOW_BANNER"}(e||(e={})),function(t){t.ALL_SHOWN="ALL_SHOWN",t.DESTROY="DESTROY",t.SHOW_BLOCK="SHOW_BLOCK"}(n||(n={})),t.Events=Object.assign({},e,i.a.CreationEvents,a.a.Events),t.GlobalEvents=Object.assign({},n)}(r||(r={})),function(t){var e;!function(t){t.SHOW_BANNER="SHOW_BANNER",t.SHOW_BLOCK="SHOW_BLOCK"}(e||(e={})),t.Events=Object.assign({},e,a.a.Events)}(o||(o={}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=function(t,e){return{parse:function(e,r){var a=JSON.parse(e,i).map(o),s=a[0],c=r||n,u="object"==typeof s&&s?function e(n,r,o,i){return Object.keys(o).reduce((function(o,a){var s=o[a];if(s instanceof t){var c=n[s];"object"!=typeof c||r.has(c)?o[a]=i.call(o,a,c):(r.add(c),o[a]=i.call(o,a,e(n,r,c,i)))}else o[a]=i.call(o,a,s);return o}),o)}(a,new Set,s,c):s;return c.call({"":u},"",u)},stringify:function(t,e,o){for(var i,a=new Map,s=[],c=[],u=e&&typeof e==typeof s?function(t,n){if(""===t||-1<e.indexOf(t))return n}:e||n,l=+r(a,s,u.call({"":t},"",t)),f=function(t,e){if(i)return i=!i,e;var n=u.call(this,t,e);switch(typeof n){case"object":if(null===n)return n;case"string":return a.get(n)||r(a,s,n)}return n};l<s.length;l++)i=!0,c[l]=JSON.stringify(s[l],f,o);return"["+c.join(",")+"]"}};function n(t,e){return e}function r(e,n,r){var o=t(n.push(r)-1);return e.set(r,o),o}function o(e){return e instanceof t?t(e):e}function i(e,n){return"string"==typeof n?new t(n):n}}(String),o=(r.parse,r.stringify)},function(t,e,n){"use strict";var r=n(2),o=n(0),i=function(){function t(){}return t.normalizeOptions=function(t,e){var n,i=o.a.device;if("string"!=typeof e)throw new r.a("elementId has not been passed!");if("object"==typeof t.unitsAdaptive&&"object"==typeof t.unitsAdaptive[i]&&(n=t.unitsAdaptive[i]),"object"!=typeof n&&"object"==typeof t.units&&(n=t.units),"object"!=typeof n)throw new r.a("Cannot find headerbidding settings for device: "+i);return n.forEach((function(t){return t.code=e})),n},t.pushAdUnits=function(t){this._hasHB?window.Ya.headerBidding.pushAdUnits(t):window.YaHeaderBiddingSettings.adUnits.push.apply(window.YaHeaderBiddingSettings.adUnits,t)},t.init=function(e){if("object"!=typeof e)throw new r.a("Lost Headerbidding options");var n=e.adfoxBiddersMap,i=e.timeout;if(0===Object.keys(n).length)throw new r.a("Empty adfoxBiddersmap!");("number"!=typeof i||i<=100)&&o.a.warn("Headerbidding timeout should be more than 100! Set in "+t.defaultTimeout);var a={adUnits:[],biddersMap:n,timeout:i};this._hasHB?window.Ya.headerBidding.setSettings(a):window.YaHeaderBiddingSettings=a;var s=document.createElement("script");s.src=t.scriptSrc,s.setAttribute("async","true"),document.head.appendChild(s)},Object.defineProperty(t,"_hasHB",{get:function(){return"object"==typeof window.Ya&&window.Ya.headerBidding},enumerable:!0,configurable:!0}),t.defaultTimeout=500,t.scriptSrc="https://yastatic.net/pcode/adfox/header-bidding.js",t}();e.a=i},function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return s}));var r,o=n(2),i=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function a(t){return function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this;try{r=t.apply(this,e)||this}catch(t){s(t)}return r}return i(e,t),e}(t)}function s(t){t.publicType&&t.publicType===o.a.name?console.warn("[MTTBanners] "+t.message):(t.message="[MTTBanners] "+t.message,console.error(t))}},function(t,e,n){"use strict";var r,o=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=function(t){function e(e,n,r){void 0===r&&(r="");var o=e+" options must have an "+n;return r&&(o+=" "+r),t.call(this,o)||this}return o(e,t),e}(Error);e.a=i},function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return i}));var r=n(0);function o(t){var e=t.getBoundingClientRect(),n=e.top;return e.bottom<r.a.height&&0<n}function i(t,e){void 0===e&&(e=0);var n=t.getBoundingClientRect(),o=n.top,i=n.bottom,a=0,s=r.a.height;return e>0&&(a-=e,s+=e),i>=a&&o<=a||o>=a&&i<=s||o<a&&i>s||o<=s&&i>=s}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a}));var r=n(0),o=n(1),i=function(){var t;switch(r.a.device){case o.a.DeviceMap.DESKTOP:t="loader.620.gif";break;default:t="loader.336.gif"}return r.a.assetsURL+"images/adfox/"+t}();function a(t){document.head.insertAdjacentHTML("afterbegin",t)}},function(t,e,n){"use strict";var r=n(3),o=function(){function t(t,e,n){var o=this;this._childElementCount=e.childElementCount,this._interval=Object(r.a)(t,(function(){o._interval&&o._childElementCount!==e.childElementCount&&n(),o._childElementCount=e.childElementCount}),100)}return t.prototype.disconnect=function(){clearInterval(this._interval),this._interval=null},t}();e.a=o},function(t,e,n){"use strict";function r(t,e,n){var r=Object.getOwnPropertyDescriptor(t,e);r&&r.enumerable!==n&&(r.enumerable=n,Object.defineProperty(t,e,r))}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return R}));var r=n(15);var o,i,a,s=n(6),c=n(16),u=n(4),l=n(7),f=n(9),d=n(0),p=n(2),h=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return h(e,t),e}(Error),v=n(1),y=((i={})[v.a.DeviceMap.DESKTOP]=300,i[v.a.DeviceMap.TABLET]=300,i[v.a.DeviceMap.MOBILE]=300,i),m=new function(){this.Global=d.a,this.currentBlockHeight=y[d.a.device]},E="Root container for InRead must be an instance of Element or selector string",g=function(){function t(e,n){if(this.lazyLoad=!0,this.minScreenLength=.01,this.injectionFrequency=.1,this.insertionPadding=10,this.checkCollisions=!1,this.adSize=m.currentBlockHeight,this.NeighborsCollisions={top:0,bottom:0},this.InreadCtx=m,"object"!=typeof e)throw new b("Incorrect options passed to InRead controllers");switch(typeof e.container){case"string":if(this.container=n.contextElement.querySelector(e.container),!this.container)throw new p.a('Element with selector "'+e.container+'" not found');break;case"object":if(!(e.container instanceof HTMLElement))throw new b(E);this.container=e.container;break;default:throw new b(E)}if(e.minScreenLength&&(t.MINIMUM_SCREEN_LENGTH>e.minScreenLength?(d.a.warn("Min screen length must be more than "+t.MINIMUM_SCREEN_LENGTH),this.minScreenLength=t.MINIMUM_SCREEN_LENGTH):this.minScreenLength=e.minScreenLength),e.injectionFrequency&&(t.MINIMUM_INJECTION_FREQUENCY>e.injectionFrequency?(d.a.warn("Injection frequency must be more than "+t.MINIMUM_INJECTION_FREQUENCY),this.injectionFrequency=t.MINIMUM_INJECTION_FREQUENCY):this.injectionFrequency=e.injectionFrequency),void 0!==e.insertionPadding&&(0===e.insertionPadding||e.insertionPadding>0)&&(this.insertionPadding=e.insertionPadding),void 0!==e.topIndent&&(this.topIndent=this.calculateTopIndent(e.topIndent)),"object"==typeof e.overrideAdSizes){var r=e.overrideAdSizes[m.Global.device];r&&r>0&&(this.adSize=r)}void 0!==e.lazyLoad&&(this.lazyLoad=Boolean(e.lazyLoad)),e.maxAdsControl&&(this.maxAdsControl=this.normalizeMaxAdsControl(e.maxAdsControl)),this.checkCollisions=Boolean(e.checkCollisions),this.setUpScreensBounds()}return t.recursiveBoundsCollector=function(e){var n=e.getBoundingClientRect(),r=n.bottom,o=n.top,i={bottom:r,top:o};return r-o>0?i:Array.prototype.slice.call(e.children).map(t.recursiveBoundsCollector).reduce((function(t,e){return{topCoordinate:e.top<t.top?e.top:t.top,bottomCoordinate:e.bottom>t.bottom?e.bottom:t.bottom}}),i)},t.prototype.setUpScreensBounds=function(){var e=this,n=this.container.getBoundingClientRect();if(this.checkCollisions){if(!this.container.parentElement)throw new p.a("We cannot check collisions because container element has no parent");Array.prototype.slice.call(this.container.parentElement.children).filter((function(t){return t!==e.container})).forEach((function(r){var o=t.recursiveBoundsCollector(r);if(o.top&&o.bottom){var i=n.top>=o.top&&n.top<o.bottom,a=n.bottom>o.top&&n.bottom<=o.bottom;if(n.top>=o.top&&n.bottom<=o.bottom)throw new p.a("We have a container collision with another element",r);if(i){var s=o.bottom;e.NeighborsCollisions.top=s>e.NeighborsCollisions.top?s:e.NeighborsCollisions.top}if(a){var c=o.top;e.NeighborsCollisions.bottom=c>e.NeighborsCollisions.bottom?c:e.NeighborsCollisions.bottom}}}))}var r=Number((n.height/d.a.height).toFixed(2));if(r<this.minScreenLength)throw new p.a('Screen length is "'+r+'", but minScreenLength is '+this.minScreenLength);return r},t.prototype.calculateTopIndent=function(e){var n=t.MINIMUM_TOP_INDENT;if("number"!=typeof e)throw new p.a("Options.topIndent must be a number! ");return t.MINIMUM_TOP_INDENT>e?(d.a.warn("Top indent must be greater than "+t.MINIMUM_TOP_INDENT),n=t.MINIMUM_TOP_INDENT):n=e,n},t.prototype.normalizeMaxAdsControl=function(t){var e={count:0,logBase:0};switch(typeof t){case"object":var n=t.logBase,r=t.count;n<=1&&(this.InreadCtx.Global.debugLog("maxAdsControl.logBase в inread должен быть больше единицы"),n=1),e.logBase=n,e.count=r;break;case"number":e.logBase=2,e.count=t;break;default:throw new p.a("Некорректное значение maxAdsControl для inread")}return e.count<1&&(this.InreadCtx.Global.debugLog("maxAdsControl.count в inread должен быть не меньше единицы"),e.count=1),e},t.MINIMUM_SCREEN_LENGTH=.1,t.MINIMUM_INJECTION_FREQUENCY=.1,t.MINIMUM_TOP_INDENT=0,t}(),O=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t[t.FLAT=1]="FLAT",t[t.DIRTY=2]="DIRTY",t[t.SAFE=3]="SAFE"}(a||(a={}));var w,_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return O(e,t),e.prototype.build=function(){var t,e,n,r,o,i=this,s=this.InreadCtx.Global.height*this.injectionFrequency,c=this.InreadCtx.currentBlockHeight,u=this.getSeparatedNodes(),l=0,f=!1,d=this.NeighborsCollisions.top,p=this.NeighborsCollisions.bottom,h=function(t){i.InreadCtx.Global.warn("Cannot insert inread because we have collision with element "+t+" container")},b=0,v=function(){t=i.insertionPadding,e=-t,n=!0,r=0,!1,o=null},y=[];return v(),u.forEach((function(u){var m=u.nodeType,E=u.element,g=E.getBoundingClientRect(),O=g.height,w=g.top;if(b<i.topIndent)b+=O;else if(!f)if(m!==a.DIRTY){if(!0,n){if(l-=O,t>(r+=O))return;if(l>0)return;if(d&&d>=w)return void h("above");o=E,n=!1}else if((e+=O)>=0){if(o){if(p>0)o.getBoundingClientRect().bottom+c>p&&(f=!0,h("below"));f||y.push(o)}v(),l=s}}else v()})),y.length?y:null},e.prototype.getSeparatedNodes=function(){return Array.prototype.slice.call(this.container.children).map((function(t){return{nodeType:0===t.offsetHeight?a.FLAT:t.querySelector("video, audio, object, iframe, img")?a.DIRTY:a.SAFE,element:t}}))},e}(g),x=n(14),j=n(11);!function(t){t.ERROR="ERROR",t.LOADED="LOADED",t.SKIP="SKIP",t.STUB="STUB",t.TIMEOUT="TIMEOUT"}(w||(w={}));var C=function(){function t(t){this.container=t}return t.prototype.getBlockContainer=function(){return this.container},t}(),S=function(){function t(e,n){var r=this;this.insertedElements=[],this.renderedElements={},t.injectStylesOnce();var o=new _(e.banner,n),i=o.build();this.adfoxOptions=Object.assign({},e.adfox),this.container=o.container,this.globalEventBus=new l.a(t.bannerName),this.lazyLoad=o.lazyLoad,"object"==typeof e.adfoxHeaderBidding&&(this.HBOptions=Object.assign({},e.adfoxHeaderBidding)),"function"==typeof e.adProvider&&(this.adProviderCallback=e.adProvider);var a=new u.a(t.bannerName,{height:o.adSize+"px"});a.withID(),i&&(o.maxAdsControl&&(i=t.spreadInsertedElements(i,o.maxAdsControl)),this.insertedElements=i.map((function(t){var e=a.build();return t.insertAdjacentElement("afterend",e),r.renderedElements[e.id]=!1,e}))),this.lazyLoad||this.initAdfox(this.insertedElements)}return t.spreadInsertedElements=function(t,e){for(var n=t.length,r=Math.floor(Math.log(n)/Math.log(e.logBase)),o=Math.ceil(n/r),i=e.count>n?n:e.count,a=new Array(i),s=0,c=0,u=0;s<i;s++,c++)c===o&&(c=0,u++),a[s]=t[u+c*r];return a},t._getSubscriptions=function(e){var n=new l.a(t.bannerName),r=function(){return n.emit(f.a.Events.DESTROY)};n.once(f.a.Events.DESTROY,(function(){return e.remove()})),n.once(f.a.Events.STUB,r),n.once(f.a.Events.ERROR,(function(t){var e=t.type,n=t.message;r(),m.Global.warn("[ADFOX:"+e+"]: "+n)})),n.subscribe(f.a.Events.SHOW_BANNER,(function(){var t=e.children;if(t.length){var n=0,r=function(t){return Array.prototype.slice.call(t)};r(t).forEach((function(t){n+=r(t.children).reduce((function(t,e){return t+e.clientHeight}),0)})),e.style.minHeight=n+"px",e.style.height="auto"}e.style.backgroundImage="none"}));var o=new c.a(n,e,(function(){n.emit(f.a.Events.SHOW_BANNER)}));return n.subscribe(f.a.Events.SHOW_BANNER,(function(){return o.disconnect()})),n},t.injectStylesOnce=function(){t._stylesInjected||(t._stylesInjected=!0,Object(r.b)('<style type="text/css">\n        .mtt-inread {\n            background: url('+r.a+") no-repeat center;\n            text-align: center;\n        }\n    </style>"))},t.prototype.getContainer=function(){return this.container},t.prototype.setVPO=function(t){var e=this;this.VPIndex=t.add(this),this.globalEventBus.subscribeMany((function(){t.removeByIndex(e.VPIndex)}),f.a.GlobalEvents.DESTROY,f.a.GlobalEvents.ALL_SHOWN)},t.prototype.inViewPort=function(){var t=this;this.insertedElements.forEach((function(e){!t.renderedElements[e.id]&&Object(x.b)(e,m.Global.height)&&t.initAdfox([e])})),0===Object.keys(this.renderedElements).filter((function(e){return!t.renderedElements[e]})).length&&this.globalEventBus.emit(f.a.GlobalEvents.ALL_SHOWN)},t.prototype.initAdfox=function(e){var n=this,r=Object(s.b)(this.adfoxOptions);e.length&&e.forEach((function(e,o){if(n.HBOptions){var i=j.a.normalizeOptions(n.HBOptions,e.id);j.a.pushAdUnits(i)}var a=t._getSubscriptions(e),c=new C(e);a.subscribe(f.a.Events.SHOW_BANNER,(function(){n.globalEventBus.emit(f.a.GlobalEvents.SHOW_BLOCK,[c])}));var u=Object.assign({containerId:e.id},r);n.adProviderCallback?n.adProviderCallback.call(void 0,c,o,(function(t){t!==w.LOADED&&Object(s.a)(u,a)})):Object(s.a)(u,a),n.renderedElements[e.id]=!0}))},t.bannerName="inread",t._stylesInjected=!1,t}(),B=n(8),A=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},D=function(){function t(t){this.delegate=t}return t.prototype.getContainer=function(){return this.delegate.getContainer()},t.prototype.on=function(t,e){this.delegate.globalEventBus.subscribe(t,e)},A([Object(B.a)(!1)],t.prototype,"delegate",void 0),t}(),N=n(19);function R(t,e,n){var r=new S(t,{contextElement:e||window.document.documentElement}),o=new D(r);return r.lazyLoad&&!n&&(n=new N.a),n&&r.setVPO(n),o}},function(t,e,n){"use strict";var r=n(14);function o(t,e){var n,r=this;return function(){var o=r;clearTimeout(n),n=setTimeout((function(){t.apply(o,arguments)}),e)}}var i=n(0),a=function(){function t(){var t=this;this.inreadControllers=[],this.scrollCallback(),this._scrollListener=function(){return o.call(t,t.scrollCallback,300)()},window.addEventListener("scroll",this._scrollListener,{passive:!0})}return t.prototype.add=function(t){var e=this.inreadControllers.push(t)-1;return this.scrollCallback(),e},t.prototype.removeByIndex=function(t){this.inreadControllers[t]=null},t.prototype.destroy=function(){window.removeEventListener("scroll",this._scrollListener)},t.prototype.scrollCallback=function(){this.inreadControllers.forEach((function(t){t&&Object(r.b)(t.getContainer(),i.a.height)&&t.inViewPort()}))},t}();e.a=a},function(t,e,n){"use strict";n.d(e,"a",(function(){return ut}));var r,o,i,a,s=n(6),c=n(1);i=r||(r={}),(o=i.CommandBus||(i.CommandBus={})).RUN="RUN",o.EMPTY="EMPTY",o.LOADER_CREATED="LOADER_CREATED",(i.AdServerType||(i.AdServerType={})).ADFOX="ADFOX",function(t){t.ERROR="ERROR",t.STUB="STUB",t.TIMEOUT="TIMEOUT",t.LOADED="LOADED"}(a||(a={})),i.AdServerEvents=Object.assign({},a,c.a.Events);var u,l=function(){function t(){}return t.prototype.setViewController=function(t){return this.viewController=t,this},t.prototype.emitError=function(t){this.observableEvents.emit(r.AdServerEvents.ERROR,t)},t.prototype.emitStub=function(){this.observableEvents.emit(r.AdServerEvents.STUB)},t.prototype.emitLoaded=function(t){this.observableEvents.emit(r.AdServerEvents.LOADED,t)},t}(),f=n(7),d=n(5),p=n(8),h=n(17),b=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},v=function(){function t(t){this.additionalData=t,this.wasInited=!1,this._isAlreadyRunning=!1,Object(h.a)(this,"_controller",!1)}return t.prototype.init=function(t){return this.wasInited||(this.wasInited=!0,this._controller=this.controller.factory(t,this.additionalData),t.deferredRun||this._controller.runBanner()),this},t.prototype.runBanner=function(){this._controller&&!this._isAlreadyRunning&&this._controller.runBanner()},t.prototype.on=function(t,e){this._controller&&this._controller.subscribe(t,e)},t.prototype.destroy=function(){this._controller&&this._controller.destroy()},b([Object(p.a)(!1)],t.prototype,"wasInited",void 0),b([Object(p.a)(!1)],t.prototype,"_eventBus",void 0),b([Object(p.a)(!1)],t.prototype,"_controller",void 0),b([Object(p.a)(!1)],t.prototype,"_isAlreadyRunning",void 0),t}(),y=n(3),m=n(4),E=new function(){this.name="fullscreen",this.HIDDEN_CLASS="mtt-fullscreen-hidden"},g=function(t,e){[t.classList].forEach((function(t){e?t.remove(E.HIDDEN_CLASS):t.add(E.HIDDEN_CLASS)}))};!function(t){t[t.NONE=0]="NONE",t[t.CROSS=1]="CROSS",t[t.TIMER=2]="TIMER"}(u||(u={}));var O,w,_=function(){function t(){this.skipElement=new m.a(E.name).specifyName("skip",!0).build(),g(this.skipElement,!1),this.crossElement=new m.a(E.name).specifyName("skip-cross",!0).build(),this.timerElement=new m.a(E.name).specifyName("skip-timer",!0).build(),this.skipElement.appendChild(this.crossElement),this.skipElement.appendChild(this.timerElement)}return t.prototype.toggle=function(t){t===u.NONE?g(this.skipElement,!1):(g(this.skipElement,!0),g(this.crossElement,t===u.CROSS),g(this.timerElement,t===u.TIMER))},t.prototype.onClick=function(t){this.skipElement.onclick=t},t}(),x=n(0);!function(t){t.ADFOX="ADFOX",t.EXTENDED_TEMPLATE="EXTENDED_TEMPLATE"}(O||(O={})),function(t){t.SKIP="SKIP",t.AUTO_CLOSE="AUTO_CLOSE"}(w||(w={}));var j=Object.assign({},c.a.Events,w);function C(t){var e=new Image(1,1);e.src=t,e.onerror=e.onabort=e.onload=function(){e.remove()},document.body.appendChild(e)}var S=function(){function t(t,e){t.plugins instanceof Array?this.plugins=t.plugins:this.plugins=[],this.bannerOptions=t.banner||{},this.viewController=e.viewController,this.tempEvents=t.events,this.bannerData=this.processBannerData(e.bannerData)}return t.factory=function(t,e){var n=new this(t,e);return n.eventBus.subscribe(j.DESTROY,(function(){n.viewController.removeFromDOM()})),n._assignExternalEvents(),n},t.prototype.subscribe=function(t,e){this.eventBus.subscribe(t,(function(){e.apply(void 0,arguments)}))},t.prototype.destroy=function(){this.eventBus.emit(j.DESTROY)},t.prototype.runBanner=function(){var t=this;["tud","pixel"].forEach((function(e){"string"==typeof t.bannerData[e]&&t.bannerData[e]&&C(t.bannerData[e])}))},t.prototype.render=function(t){var e=this;t&&[this.viewController.fsContainer].forEach((function(e){e.classList.remove("mtt-centered"),e.appendChild(t)})),this.deferredSkipRender(),this.autoCloseTimeoutId=Object(y.b)(this.eventBus,(function(){e.eventBus.emit(j.AUTO_CLOSE),e.eventBus.emit(j.DESTROY)}),this.bannerData.closeTimer),this.plugins.forEach((function(t){"function"==typeof t.hooks.afterInsertTemplate&&t.hooks.afterInsertTemplate(e.viewController)}))},t.prototype.deferredSkipRender=function(){var t=this;Object(y.b)(this.eventBus,(function(){t.viewController.skipController.toggle(u.CROSS),t.viewController.skipController.onClick((function(){t.eventBus.emit(j.SKIP),Object(y.b)(t.eventBus,(function(){t.eventBus.emit(j.DESTROY)}),75)}))}),1e3*this.bannerData.showCloseButton)},t.prototype.processBannerData=function(t){var e,n="object"==typeof t&&t?t:{},r=this.plugins.reduce((function(t,e){return"function"==typeof e.hooks.onPreprocessBannerData&&e.hooks.onPreprocessBannerData(t),t}),n),o=r.closeTimer,i=r.images,a=r.pixel,s=r.reference,c=r.redirect,u=r.showCloseButton,l=r.tud,f=r.type,d=r.url,p=(e={landscape:"",portrait:""},"object"==typeof i&&(i.landscape&&(e.landscape=i.landscape),i.portrait&&(e.portrait=i.portrait)),e);return Object.assign(r,{closeTimer:o?1e3*o:15e3,images:p,pixel:a||"",redirect:c||"",reference:s||"",showCloseButton:u?+u:3,tud:l||"",type:f||"",url:d||""})},t.prototype.getDefaultUserEvents=function(){return{}},t.prototype._assignExternalEvents=function(){var t=this,e="object"==typeof this.tempEvents?this.tempEvents:{},n=Object.assign({},this.getDefaultUserEvents(),e);Object.keys(n).forEach((function(e){t.eventBus.subscribe(e,n[e])})),this.tempEvents=void 0},t}();var B,A,D,N=function(){function t(){this.unsubscribeHandlers=[]}return t.prototype.addUnsubscribeHandler=function(t){this.unsubscribeHandlers.push(t)},t.prototype.setMessageHandler=function(t){this.postMessageHandler=t,window.addEventListener("message",t)},t.prototype.isEmpty=function(){return"function"!=typeof this.postMessageHandler},t.prototype.unsubscribe=function(){this.isEmpty()||(window.removeEventListener("message",this.postMessageHandler),this.unsubscribeHandlers.forEach((function(t){return t()})),this.unsubscribeHandlers.length=0)},t}();A=B||(B={}),function(t){t.MESSAGE="MESSAGE",t.PREVENT="PREVENT",t.REDIRECT="REDIRECT",t.DESTROY="DESTROY"}(D||(D={})),A.ExtendedTemplateEvent=Object.assign({},D,j,c.a.Events);var R,T=/banner\.event\.(\d+0?)/,L=function(){function t(t,e){this.eventBus=t,this.bannerData=e,this.messageListenersStruct=new N,this.createMessageHandler()}return t.prototype.detachMessageHandler=function(){this.messageListenersStruct.unsubscribe()},t.prototype.redirect=function(t){if(this.bannerData){var e="string"==typeof t?t:this.bannerData.reference;this.eventBus.emit(B.ExtendedTemplateEvent.REDIRECT,[e])}},t.prototype.processComplexMessage=function(t){try{var e=JSON.parse(t.data);"object"==typeof e&&"redirect"===e.type&&(this.eventBus.emit(B.ExtendedTemplateEvent.REDIRECT,[this.bannerData.redirect+"@"+e.data]),this.bannerData.redirect||x.a.warn("FS: bannerData.redirect пуст"))}catch(e){if("string"==typeof t.data&&t.data){var n=Number((T.exec(t.data)||[])[1]);if(n&&"object"==typeof this.bannerData.events){var r=this.bannerData.events["event"+n];r&&C(r)}}}this.eventBus.emit(B.ExtendedTemplateEvent.MESSAGE,[t.data])},t}(),I=n(10),M=(R=function(t,e){return(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}R(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),k=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return M(e,t),e.prototype.draw=function(){var t=new m.a(E.name).specifyName("container-html5").build("iframe");return t.classList.add("mtt-fullscreen-container-html5"),t.src=this.bannerData.url,t},e.prototype.createMessageHandler=function(){var t=this;this.messageListenersStruct.setMessageHandler((function(e){switch(e.data){case"banner.close":t.eventBus.emit(B.ExtendedTemplateEvent.DESTROY);break;case"banner.preventClosing":t.eventBus.emit(B.ExtendedTemplateEvent.PREVENT);break;case"banner.redirect":t.redirect();break;case"banner.listenDevicemotion":var n=function(t){if(void 0!==window.DeviceMotionEvent){var e=function(e){var n=e.acceleration,r=e.accelerationIncludingGravity,o=e.interval,i=e.rotationRate,a=e.timeStamp,s=e.type;t({acceleration:n,accelerationIncludingGravity:r,interval:o,rotationRate:i,timeStamp:a,type:s})};return window.addEventListener("devicemotion",e),function(){window.removeEventListener("devicemotion",e)}}t({type:"unavailable"})}((function(t){e.source&&e.source.postMessage(Object(I.a)({type:e.data,data:t}),"*")}));n&&t.messageListenersStruct.addUnsubscribeHandler(n);break;case"banner.listenDeviceorientation":var r=function(t){if(void 0!==window.DeviceOrientationEvent){var e=function(e){var n=e.absolute,r=e.alpha,o=e.beta,i=e.gamma,a=e.timeStamp,s=e.type;t({absolute:n,alpha:r,beta:o,gamma:i,timeStamp:a,type:s})};return window.addEventListener("deviceorientation",e),function(){window.removeEventListener("deviceorientation",e)}}t({type:"unavailable"})}((function(t){e.source&&e.source.postMessage(Object(I.a)({type:e.data,data:t}),"*")}));r&&t.messageListenersStruct.addUnsubscribeHandler(r);break;default:t.processComplexMessage(e)}}))},e}(L),P=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),H=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.imageContainerName="mtt-fullscreen-image",e}return P(e,t),e.prototype.draw=function(){var t=this,e=new m.a(E.name).specifyName("image-container").build(),n=new m.a(E.name,{backgroundImage:"url("+this.bannerData.images.landscape+")"}).specifyName("image").build();n.classList.add(this.imageContainerName+"__landscape");var r=new m.a(E.name,{backgroundImage:"url("+this.bannerData.images.portrait+")"}).specifyName("image").build();return r.classList.add(this.imageContainerName+"__portrait"),e.appendChild(n),e.appendChild(r),e.addEventListener("click",(function(){return t.redirect()})),e},e.prototype.createMessageHandler=function(){var t=this;this.messageListenersStruct.setMessageHandler((function(e){switch(e.data){case"banner.redirect":t.redirect();break;default:t.processComplexMessage(e)}}))},e}(L),U=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),F=function(t){function e(e){var n=t.call(this,e)||this;return n.callEveryEmit=[],n}return U(e,t),e.prototype.emit=function(e,n){t.prototype.emit.call(this,e,n),this.callEveryEmit.length&&this.callEveryEmit.map((function(t){return t(e,n)}))},e.prototype.subscribeAny=function(t){this.callEveryEmit.push(t)},e.prototype.unsubscribeAny=function(t){var e=this.callEveryEmit.indexOf(t);-1!==e&&this.callEveryEmit.splice(e,1)},e.prototype.reset=function(){t.prototype.reset.call(this),this.callEveryEmit&&(this.callEveryEmit.length=0)},e}(f.a),Y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),z=function(t){function e(e,n){var r=t.call(this,e,n)||this;switch(r.eventBus=new F,r.bannerData.type){default:case"html5":r.bannerTypeHolder=new k(r.eventBus,r.bannerData);break;case"image_smartphone":r.bannerTypeHolder=new H(r.eventBus,r.bannerData)}return r.eventBus.once(B.ExtendedTemplateEvent.DESTROY,(function(){r.bannerTypeHolder.detachMessageHandler()})),r.eventBus.once(B.ExtendedTemplateEvent.PREVENT,(function(){clearTimeout(r.autoCloseTimeoutId)})),r.eventBus.once(B.ExtendedTemplateEvent.SKIP,(function(){window.postMessage("banner.event.30","*")})),r}return Y(e,t),e.prototype.runBanner=function(){t.prototype.runBanner.call(this),this.render(this.bannerTypeHolder.draw())},e.prototype.deferredSkipRender=function(){if(t.prototype.deferredSkipRender.call(this),this.bannerData.showCloseButton>1){var e=this.viewController.skipController,n=this.bannerData.showCloseButton;e.timerElement.innerHTML=String(n),e.toggle(u.TIMER);var r=Object(y.a)(this.eventBus,(function(){n-=1,e.timerElement.innerHTML=String(n)}),1e3);Object(y.b)(this.eventBus,(function(){clearInterval(r),e.toggle(u.CROSS)}),1e3*this.bannerData.showCloseButton)}},e.prototype.getDefaultUserEvents=function(){var e;return Object.assign({},t.prototype.getDefaultUserEvents.call(this),((e={})[B.ExtendedTemplateEvent.REDIRECT]=function(t){window.open(t,"_blank")},e))},e}(S),W=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),G=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return W(e,t),Object.defineProperty(e.prototype,"controller",{get:function(){return z},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return O.EXTENDED_TEMPLATE},enumerable:!0,configurable:!0}),e}(v),q=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),X=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.eventBus=new f.a,r}return q(e,t),e.prototype.runBanner=function(){t.prototype.runBanner.call(this),this.render()},e}(S),K=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),V=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return K(e,t),Object.defineProperty(e.prototype,"controller",{get:function(){return X},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return O.ADFOX},enumerable:!0,configurable:!0}),e}(v),J=n(11),Q=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Z=function(t){function e(e,n,r){var o=t.call(this)||this;return o.observableEvents=e,o.adFoxOptions=n,o.adfoxHBOptions=r,o}return Q(e,t),e.prototype.requestBanner=function(){var t=this,e=this.getAdfoxEventBus(),n=this.observableEvents;this.adfoxHBOptions&&J.a.pushAdUnits(J.a.normalizeOptions(Object.assign({},this.adfoxHBOptions),this.adFoxOptions.containerId)),Object(s.a)(this.adFoxOptions,e);var r={predicate:!1};e.once(d.a.CreationEvents.ERROR,(function(e){t.emitError([e])})),e.once(d.a.CreationEvents.STUB,(function(){t.emitStub(),r.predicate=!0})),e.once(d.a.CreationEvents.RENDER,(function(){t.onAdfoxRender(n)})),e.once(d.a.CreationEvents.LOAD,(function(e){t.onAdfoxLoad(e,r)})),this._subscribeDrawFullscreen()},e.prototype.onAdfoxLoad=function(t,e){var n=this,r=this.observableEvents,o=!0;"banner.adx"===t.bundleName&&(o=!1,Object(y.b)(r,(function(){o=!0}),2e3)),x.a.debugLog("Fullscreen Adfox: "+Object(I.a)(t));var i=Object(y.a)(r,(function(){o&&(e.predicate||n._emitDefaultTemplate(r,t),clearTimeout(i))}),100)},e.prototype.onAdfoxRender=function(t){this._emitDefaultTemplate(t,void 0)},e.prototype.getAdfoxEventBus=function(){return new f.a(E.name)},e.prototype._emitDefaultTemplate=function(t,e){this.emitLoaded([new V({bannerData:e,viewController:this.viewController})])},e.prototype._subscribeDrawFullscreen=function(){var t=this,e=function(e){t.emitLoaded([new G({bannerData:e,viewController:t.viewController})])};window.drawFullScreen=e,this.observableEvents.once(r.AdServerEvents.DESTROY,(function(){window.drawFullScreen===e&&delete window.drawFullScreen}))},e}(l),$=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},tt=function(){function t(t,e){this.type=t,this._eventBus=e}return t.prototype.on=function(t,e){return this._eventBus.subscribe(t,e),this},$([Object(p.a)(!1)],t.prototype,"_eventBus",void 0),t}(),et=n(12);n(25);var nt=function(){function t(){var t,e,n;Object.assign(this,(t=new m.a(E.name).build(),e=new m.a(E.name).specifyName("overlay",!0).build(),n=new m.a(E.name).specifyName("container",!0).withID().build(),t.style.visibility="hidden",n.classList.add("mtt-centered"),t.appendChild(e),t.appendChild(n),{fsContainer:n,rootContainer:t})),this.skipController=new _,this.rootContainer.appendChild(this.skipController.skipElement)}return t.prototype.removeFromDOM=function(){this.rootContainer.parentNode&&this.rootContainer.parentNode.removeChild(this.rootContainer)},t.prototype.show=function(){this.rootContainer.style.visibility="visible"},t}(),rt=n(2),ot=function(){function t(t){this.requestsTimeout=7e3;var e=t.container,n=t.adfoxHeaderBidding,r=t.adfox,o=t.timeout;if("string"==typeof e){if(this.outerContainer=document.querySelector(e),!this.outerContainer)throw new rt.a("Передан неверный селектор контейнера для ФС")}else e instanceof HTMLElement?this.outerContainer=e:this.outerContainer=document.body;if("object"==typeof r&&(this.AdFox=r),"object"==typeof n&&(this.AdFoxHB=n),"object"==typeof t.frequency){var i=t.frequency,a=i.qty,s=i.period;if(!("number"==typeof a&&"number"==typeof s&&a>0&&s>0))throw new rt.a("Неверные настройки частоты");this.frequency={period:s,qty:a}}o>0&&(this.requestsTimeout=o)}return t.prototype.hasAdfox=function(){return"object"==typeof this.AdFox},t}();var it=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},at=function(){function t(t,e){var n=this;this.commandBus=e,this.viewController=new nt,this.propertyContainer=new ot(t),this.propertyContainer.hasAdfox()&&Object(s.d)(),this.commandBus.subscribe(r.CommandBus.RUN,(function(t){n._checkFrequency()?n.run(t):x.a.warn("FS. Превышена частота показов.")}))}var e;return e=t,t.prototype.run=function(t){this.commandBus.subscribe(r.CommandBus.LOADER_CREATED,(function(e){"function"==typeof t?(t.call(void 0,e),e.on(r.AdServerEvents.LOADED,(function(t){t.init({})}))):!t||t&&"object"==typeof t?e.on(r.AdServerEvents.LOADED,(function(e){e.init(t||{})})):x.a.warn("Fullscreen.run got incompatible argument")})),this.propertyContainer.hasAdfox()&&this.processAdfoxFlow()},t.prototype.processAdfoxFlow=function(){var t=Object(s.b)(this.propertyContainer.AdFox);this.propertyContainer.outerContainer.appendChild(this.viewController.rootContainer);var e=this.subscribeAdObservable(),n=new tt(r.AdServerType.ADFOX,e);this.commandBus.emit(r.CommandBus.LOADER_CREATED,[n]);var o=Object.assign({containerId:this.viewController.fsContainer.id},t);new Z(e,o,this.propertyContainer.AdFoxHB).setViewController(this.viewController).requestBanner()},t.prototype.showViewController=function(){this.viewController.show()},t.prototype.subscribeAdObservable=function(){var t=this,e=new F(E.name),n=Object(y.b)(e,(function(){e.emit(r.AdServerEvents.TIMEOUT)}),this.propertyContainer.requestsTimeout);return e.subscribeAny((function(){return clearTimeout(n)})),e.subscribeMany((function(){t.commandBus.emit(r.CommandBus.EMPTY),e.reset(),t.viewController.removeFromDOM()}),r.AdServerEvents.TIMEOUT,r.AdServerEvents.STUB,r.AdServerEvents.ERROR),e.once(r.AdServerEvents.LOADED,(function(){t.showViewController()})),e},t.prototype._checkFrequency=function(){if(!this.propertyContainer.frequency)return!0;var t,n,r=this.propertyContainer.frequency,o=r.qty,i=r.period,a=(t=new Date).setTime(t.getTime()+3600*i*1e3);try{var s=JSON.parse((n=e.cookie,(document.cookie.match(new RegExp(n+"=([^;]+)"))||[])[1])),c=s.fr_e,u=s.fr_q;a=c,o=u}catch(t){}return!(o<1)&&(function(t,e,n){var r=[];n instanceof Date&&r.push("expires="+n.toUTCString()),document.cookie=t+"="+e+"; "+r.join("; ")}(e.cookie,Object(I.a)({fr_e:a,fr_q:o-1}),new Date(a)),!0)},t.cookie="_mtt_fs_s",t=e=it([et.a],t)}(),st=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},ct=function(){function t(t){this._isRunning=!1,this._commandBus=t}return t.prototype.run=function(t){if(this._isRunning)x.a.warn("Данный экземпляр ФС уже запущен");else{this._isRunning=!0;try{this._commandBus.emit(r.CommandBus.RUN,[t])}catch(t){Object(et.b)(t)}}},t.prototype.onEmpty=function(t){try{this._commandBus.subscribe(r.CommandBus.EMPTY,t)}catch(t){Object(et.b)(t)}},st([Object(p.a)(!1)],t.prototype,"_commandBus",void 0),st([Object(p.a)(!1)],t.prototype,"_isRunning",void 0),t}();function ut(t){var e=new f.a;return new at(t,e),new ct(e)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return P}));var r,o,i,a,s,c=n(8),u=n(5),l=n(1),f=u.a.CreationEvents;a=r||(r={}),function(t){t.SHOW_BANNER="SHOW_BANNER",t.DISABLE_SCROLL="DISABLE_SCROLL"}(s||(s={})),(i=a.WorkMode||(a.WorkMode={})).STANDARD_ADFOX="standard_adfox",i.STICKY="sticky",i.FIX_SCROLL="fix_scroll",i.FIX_STICKY="fix_sticky",(o=a.ExitStates||(a.ExitStates={})).DRAW_AD="draw_ad",o.PAGE_LENGTH="page_length",a.Events=Object.assign({},s,f,l.a.Events);var d=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},p=function(){function t(t){this.delegate=t}return t.prototype.getContainer=function(){return this.delegate.getContainer()},t.prototype.destroy=function(){this.delegate.EventBus.emit(r.Events.DESTROY)},d([Object(c.a)(!1)],t.prototype,"delegate",void 0),t}(),h=n(6),b=n(0);var v,y=n(16),m=n(13),E=n(7),g=n(15),O=n(4),w=function(){function t(t,e){this.eventBus=t,this.value=e,this.overflowHidden=!1,void 0===e&&this.setDefaultValue()}return t.prototype.disableScroll=function(){return this.overflowHidden},t}(),_=(v=function(t,e){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}v(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),x=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _(e,t),e.prototype.onScroll=function(){var t=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight);t&&window.pageYOffset/t*100>this.value&&(this.overflowHidden=!0)},e.prototype.setDefaultValue=function(){this.value=30},e}(w),j=n(3),C=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),S=function(t){function e(e,n){var o=t.call(this,e,n)||this;return o.eventBus.once(r.Events.SHOW_BANNER,(function(){o.timeout=Object(j.b)(e,(function(){o.overflowHidden=!0}),o.value)})),o}return C(e,t),e.prototype.onScroll=function(){},e.prototype.setDefaultValue=function(){this.value=5e3},e}(w),B=n(2),A=n(14),D={37:1,38:1,39:1,40:1,32:1,33:1,34:1,35:1,36:1};function N(t,e){document.body.addEventListener(t,e,{passive:!1})}function R(t,e){document.body.removeEventListener(t,e)}var T=function(){function t(t,e,n,r){this.container=t,this.overlay=e,this.scrollFixation=n,this.eventBus=r,this.listenerCallbacks={preventDefault:this.preventDefault.bind(this),preventDefaultForScrollKeys:this.preventDefaultForScrollKeys.bind(this)}}return t.prototype.fixation=function(){var t=this;["wheel","touchstart","touchmove"].forEach((function(e){N(e,t.listenerCallbacks.preventDefault)})),N("keydown",this.listenerCallbacks.preventDefaultForScrollKeys)},t.prototype.release=function(){var t=this;["wheel","touchstart","touchmove"].forEach((function(e){R(e,t.listenerCallbacks.preventDefault)})),R("keydown",this.listenerCallbacks.preventDefaultForScrollKeys),this.overlay.style.display=""},t.prototype.preventDefault=function(t){var e=this;if(Object(A.a)(this.container)){t.preventDefault&&t.preventDefault(),this.scrollFixation.overlay&&(this.overlay.style.display="block");var n=Object(j.b)(this.eventBus,(function(){e.release(),clearTimeout(n)}),this.scrollFixation.timer)}},t.prototype.preventDefaultForScrollKeys=function(t){if(D[t.code]&&Object(A.a)(this.container))return this.preventDefault(t),!1},t}(),L=function(){function t(t,e){void 0===e&&(e={}),this.eventBus=t,this.workMode=r.WorkMode.STICKY;var n=e.exit,o=e.insertInto,i=e.widthConstraints,a=e.scrollFixation,s=e.workMode;o&&(this.insertInto=o),a&&(this.scrollFixation=this.scrollFixationParser(a)),s&&(this.workMode=s),this.needScroll(i)&&(this.exitState=this.stateFactory(t,n))}return t._createElementsBuilder=function(t){return new O.a("billboard",t)},t.prototype.buildBanner=function(){var e=this,n=t._createElementsBuilder().specifyName("place").build(),o=t._createElementsBuilder().specifyName("wrapper",!0).build(),i=t._createElementsBuilder().specifyName("overlay",!0).build(),a=t._createElementsBuilder().specifyName("container",!0).build(),s=t._createElementsBuilder().specifyName("button",!0).build(),c=t._createElementsBuilder().specifyName("banner",!0).withID().build();if((this.insertInto||document.body).insertAdjacentElement("afterbegin",o),o.appendChild(i),o.appendChild(n),n.appendChild(a),a.appendChild(s),a.appendChild(c),this.scrollFixation){var u=new T(a,i,this.scrollFixation,this.eventBus);[r.WorkMode.FIX_SCROLL,r.WorkMode.FIX_STICKY].indexOf(this.workMode)>=0&&u.fixation(),this.eventBus.subscribeMany((function(){return u.release()}),r.Events.DESTROY,r.Events.DISABLE_SCROLL)}var l=function(){return e.eventBus.emit(r.Events.DISABLE_SCROLL)};return s.addEventListener("click",l),this.eventBus.subscribe(r.Events.DESTROY,(function(){s.removeEventListener("click",l)})),{overlay:i,wrapper:o,banner:c,container:a,place:n}},t.prototype.stateFactory=function(t,e){var n;if("object"==typeof e){var o=e.type,i=e.value;switch(o){case r.ExitStates.PAGE_LENGTH:n=new x(this.eventBus,i);break;case r.ExitStates.DRAW_AD:n=new S(this.eventBus,i)}}return n||(n=new S(this.eventBus)),n},t.prototype.needScroll=function(t){var e=!0;if(t){var n=t.min,o=t.max;if(e=!1,"number"!=typeof n&&"number"!=typeof o)throw new B.a("Max and min restrictions should be numbers!");if("number"==typeof n&&o&&n>=o)throw new B.a("Max restriction value should be greater than min value");if("number"==typeof n&&o&&(n<0||o<0))throw new B.a("Min and max restrictions values should be greater than zero!");"number"==typeof n&&o&&b.a.width>=n&&b.a.width<=o&&(e=!0),!n&&o&&b.a.width<o&&(e=!0),"number"==typeof n&&!o&&b.a.width>n&&(e=!0)}return this.workMode!==r.WorkMode.STANDARD_ADFOX&&this.workMode!==r.WorkMode.FIX_SCROLL||(e=!1),e},t.prototype.scrollFixationParser=function(t){var e=t[b.a.device]||t;return{overlay:Boolean(e.overlay),timer:e.timer>=0?e.timer:2e3}},t}(),I=n(12),M=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},k=function(){function t(t){this.EventBus=new E.a(e.bannerName),this.subscribeDestroy(),this.bannerBuilder=new L(this.EventBus,t.banner),this.Elements=this.bannerBuilder.buildBanner(),this.processAdfox(t.adfox,this.Elements.banner),e.injectStylesOnce(),this.bannerBuilder.exitState&&this.runScroll()}var e;return e=t,t.injectStylesOnce=function(){var t;e.stylesInjected||(e.stylesInjected=!0,Object(g.b)('<style type="text/css">\n        .mtt-billboard-place {\n            position: relative;\n        }\n        \n        .mtt-billboard-container {\n            position: relative;\n            top: 0;\n            left: 0;\n            right: 0;\n            z-index: 10000;\n        }\n        \n        .mtt-billboard-container.mtt-scroll {\n            position: fixed;\n        }\n  \n        .mtt-billboard-container.mtt-scroll > .mtt-billboard-banner {\n            text-align: center;\n            background-color: rgba(255, 255, 255, 0.4);\n        }\n        \n        .mtt-billboard-button {\n            width: 20px;\n            height: 20px;\n            position: absolute;\n            z-index: 2;\n            cursor: pointer;\n            display: none;\n            background: url('+(t=b.a.assetsURL+"images/billboard/icons-close/")+"close-simple.png) no-repeat;\n            background-size: cover;\n        }\n        \n        .mtt-billboard-button:hover {\n            background: url("+t+"close-hover.png) no-repeat;\n            background-size: cover;\n        }\n        \n        .mtt-billboard-container.mtt-scroll > .mtt-billboard-button {\n            top: 10px;\n            right: 10px;\n            display: block;\n            z-index: 10000;\n            background-color: white;\n            border-radius: 10px;\n        }\n        \n        .mtt-billboard-overlay {\n            display: none;\n            position: fixed;\n            height: 100%;\n            width: 100%;\n            top: 0;\n            left: 0;\n            background-color: rgba(0, 0, 0, 0.7);\n            z-index: 10000;\n        }\n    </style>"))},t.prototype.getContainer=function(){return this.Elements.container},t.prototype.processAdfox=function(t,n){var o=this;if(!t)throw new m.a(e.bannerName,"adfox");var i=Object.assign({containerId:n.id},Object(h.b)(t)),a=new y.a(this.EventBus,n,(function(){o._fixPlaceSize(n),o.EventBus.emit(r.Events.SHOW_BANNER)}));this.EventBus.subscribe(r.Events.SHOW_BANNER,(function(){return a.disconnect()}));var s=function(){o.EventBus.emit(r.Events.DESTROY)};this.EventBus.once(r.Events.ERROR,(function(t){var e=t.type,n=t.message;s(),b.a.warn("[ADFOX:"+e+"]: "+n)})),this.EventBus.once(r.Events.STUB,s),Object(h.a)(i,this.EventBus)},t.prototype.runScroll=function(){var t=this,e=this.Elements,n=e.place,o=e.container,i=function(){t.bannerBuilder.exitState.disableScroll()?t.EventBus.emit(r.Events.DISABLE_SCROLL):n.getBoundingClientRect().top>=0?o.classList.remove("mtt-scroll"):(t.bannerBuilder.exitState.onScroll(),o.classList.add("mtt-scroll"))};window.addEventListener("scroll",i,{passive:!0}),this.EventBus.once(r.Events.DISABLE_SCROLL,(function(){o.classList.remove("mtt-scroll"),window.removeEventListener("scroll",i)})),i()},t.prototype.subscribeDestroy=function(){var t=this;this.EventBus.once(r.Events.DESTROY,(function(){t.EventBus.emit(r.Events.DISABLE_SCROLL)}))},t.prototype._fixPlaceSize=function(t){var e=this,n=0,r=Object(j.a)(this.EventBus,(function(){n++,t.offsetHeight&&t.innerHTML&&(e.Elements.place.style.height=t.offsetHeight+"px"),(t.offsetHeight||30===n)&&clearInterval(r)}),150)},t.bannerName="Billboard",t=e=M([I.a],t)}();function P(t){var e=new k(t);return new p(e)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var r,o,i,a=n(15),s=n(7),c=n(5),u=n(1),l=c.a.CreationEvents;o=r||(r={}),function(t){t.SHOW_BANNER="SHOW_BANNER",t.CLOSE_BANNER="CLOSE_BANNER"}(i||(i={})),o.Events=Object.assign({},i,l,u.a.Events);var f=n(16),d=n(12),p=n(0);var h=n(4),b=function(){function t(t){this.eventBus=t}return t.prototype.build=function(){var t=this,e=new h.a("adhesion").specifyName("container").build(),n=new h.a("adhesion").specifyName("button",!0).build(),o=new h.a("adhesion").specifyName("banner",!0).withID().build();e.appendChild(o),e.appendChild(n),e.className+=" mtt-hidden";var i=function(){t.eventBus.emit(r.Events.CLOSE_BANNER)};return n.addEventListener("click",i),this.eventBus.subscribe(r.Events.DESTROY,(function(){n.removeEventListener("click",i)})),{container:e,banner:o,button:n}},t}(),v=n(13),y=n(6),m=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},E=function(){function t(t){this.EventBus=new s.a("Adhesion"),this.AdhesionBuilder=new b(this.EventBus),this.elements=this.AdhesionBuilder.build(),e.injectStylesOnce(),this.processAdfox(t.adfox,this.elements.banner)}var e;return e=t,t.injectStylesOnce=function(){var t;e.stylesInjected||(e.stylesInjected=!0,Object(a.b)('\n    <style type="text/css" id="adhesionStyles">\n        .mtt-adhesion-container {\n          display: table;\n          position: fixed;\n          bottom: 0;\n          left: 50%;\n          transform: translateX(-50%);\n          z-index: 9999;\n        }\n        .mtt-adhesion-container.mtt-hidden{\n            visibility: hidden;\n            z-index: -1;\n        }\n        .mtt-adhesion-banner {\n          height: 0px;\n        }\n        .mtt-adhesion-button {\n          width: 20px;\n          height: 20px;\n          position: absolute;\n          cursor: pointer;\n          background: #ffffff url('+(t=p.a.assetsURL+"images/billboard/icons-close/")+"close-simple.png) no-repeat;\n          background-size: cover;\n          top: 0px;\n            right: 0px;\n            display: block;\n            z-index: 10000;\n            border-radius: 10px;\n            user-select: none\n        }\n        .mtt-adhesion-button:hover {\n          background: #ffffff url("+t+"close-hover.png) no-repeat;\n          background-size: cover;\n}\n    </style>\n    "))},t.prototype.processAdfox=function(t,e){if(!t)throw new v.a("Adhesion","adfox");var n=Object.assign({containerId:e.id},Object(y.b)(t));this.subscribeAll(),this.render(),Object(y.a)(n,this.EventBus)},t.prototype.subscribeAll=function(){var t=this,e=new f.a(this.EventBus,this.elements.banner,(function(){t.EventBus.emit(r.Events.SHOW_BANNER)}));this.EventBus.subscribe(r.Events.SHOW_BANNER,(function(){return e.disconnect()}));var n=function(){t.EventBus.emit(r.Events.DESTROY)};this.EventBus.once(r.Events.ERROR,(function(t){var e=t.type,r=t.message;n(),p.a.warn("[ADFOX:"+e+"]: "+r)})),this.EventBus.once(r.Events.STUB,n),this.EventBus.once(r.Events.RENDER,(function(){t.resizeAndShowBanner()})),this.EventBus.subscribeMany((function(){t.elements.container.remove()}),r.Events.DESTROY,r.Events.CLOSE_BANNER)},t.prototype.resizeAndShowBanner=function(){for(var t=Array.prototype.slice.call(this.elements.banner.children),n=t.map((function(t){return t.className})),r=0,o=0;o<=n.length;o++)if(e.YandexRTBRegexp.test(n[o])){r=o;break}var i=Array.prototype.slice.call(t[r].children),a=0;i.length&&(a=i.reduce((function(t,e){return t+e.clientHeight}),0)),a&&(this.elements.container.classList.remove("mtt-hidden"),this.elements.banner.style.height=a+"px")},t.prototype.render=function(){document.body.insertAdjacentElement("beforeend",this.elements.container)},t.stylesInjected=!1,t.YandexRTBRegexp=/yandex_rtb_/g,t=e=m([d.a],t)}();function g(t){new E(t)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var r=n(8),o=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},i=function(){function t(t){this.delegate=t}return t.prototype.on=function(t,e){this.delegate.eventBus.subscribe(t,e)},o([Object(r.a)(!1)],t.prototype,"delegate",void 0),t}(),a=n(12),s=n(7),c=n(0),u=function(t,e,n,r){if(this.containerId=t,this.adfoxOpts=e,this.headerBidding=n,"object"==typeof r&&("object"==typeof r.lazyLoad&&r.lazyLoad.distance>=0&&(this.lazyLoad={distance:r.lazyLoad.distance}),"object"==typeof r.refresh)){var o=r.refresh.seconds;r.refresh.seconds<=0&&(o=30,c.a.debugLog("AdfoxWrapper: banner.refresh.seconds меньше 1 секунды. По умолчанию 30.")),this.refresh={checkVisibility:Boolean(r.refresh.checkVisibility),seconds:o}}this.bannerElement=document.getElementById(t)},l=n(6),f=n(3),d=n(1),p=n(14),h=n(11),b=function(){function t(t,e){this.eventBus=t,this.propertyContainer=e,this.lazyLoadMutex=!1}return t.prototype.run=function(){this.handleAdfoxLoading(),this.handleRefresh()},t.prototype.handleAdfoxLoading=function(){var t=this,e=this.propertyContainer,n=e.lazyLoad,r=e.bannerElement;if(n){var o=function(){!t.lazyLoadMutex&&Object(p.b)(r,n.distance)&&(t.lazyLoadMutex=!0,t.processAdfox(),window.removeEventListener("scroll",o))};window.addEventListener("scroll",o),this.eventBus.once(d.a.Events.DESTROY,(function(){window.removeEventListener("scroll",o)}))}else this.processAdfox()},t.prototype.handleRefresh=function(){if(this.propertyContainer.refresh){var t=this.propertyContainer,e=t.refresh,n=t.containerId,r=t.bannerElement;Object(f.a)(this.eventBus,(function(){e.checkVisibility?Object(p.a)(r)&&Object(l.c)(n):Object(l.c)(n)}),1e3*e.seconds)}},t.prototype.processAdfox=function(){var t=this.propertyContainer,e=t.containerId,n=t.adfoxOpts,r=t.headerBidding,o=Object(l.b)(n);"object"==typeof r&&h.a.pushAdUnits(h.a.normalizeOptions(r,e)),Object(l.a)(Object.assign({containerId:e},o),this.eventBus)},t}(),v=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},y=function(){function t(t){this.eventBus=new s.a;var e=new u(t.containerId,t.adfox,t.adfoxHeaderBidding,t.banner),n=new b(this.eventBus,e);this.runBanner(n)}return t.prototype.runBanner=function(t){t.run()},t=v([a.a],t)}();function m(t){var e=new y(t);return new i(e)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n(18),o=n(13),i=n(0),a=n(7),s=n(9),c=n(3),u=n(19),l=function(){function t(e){var n=this;if(this.inreadContainers=[],"string"!=typeof e.selector||e.selector.trim().length<1)throw new o.a(t.bannerName,"selector"," and it must be a selector string");if(this.selector=e.selector,"object"!=typeof e.inreadOptions)throw new o.a(t.bannerName,"inreadOptions");this.inreadOptions=Object.assign({},e.inreadOptions),this.globalEventBus=new a.a(t.bannerName),this.inreadOptions.banner.lazyLoad&&(this.VPObserver=new u.a),this.checkDocument(),Object(c.a)(this.globalEventBus,(function(){return n.checkDocument()}),1e3)}return t.prototype.proxyBlockEvents=function(t){var e=this;t.on(s.a.GlobalEvents.SHOW_BLOCK,(function(t){e.globalEventBus.emit(s.b.Events.SHOW_BLOCK,[t])}))},t.prototype.checkDocument=function(){var t=this,e=window.document.querySelectorAll(this.selector);e.length!==this.inreadContainers.length?Array.prototype.slice.call(e).forEach((function(e){var n=!1;for(var o in t.inreadContainers)if(t.inreadContainers.hasOwnProperty(o)&&e===t.inreadContainers[o]){n=!0;break}if(!n){i.a.debugLog("Infiniteinread found new container"),t.inreadContainers.push(e);var a=Object.assign({},t.inreadOptions),s=Object(r.a)(a,e,t.VPObserver);t.proxyBlockEvents(s)}})):i.a.debugLog("Elements by selector is equal with inreads")},t.bannerName="InreadInfinite",t}(),f=function(){function t(t){this.delegate=t}return t.prototype.on=function(t,e){this.delegate.globalEventBus.subscribe(t,e)},t}();function d(t){var e=new l(t);return new f(e)}},function(t,e,n){var r=n(26);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(28)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){(e=n(27)(!1)).push([t.i,".mtt-fullscreen{position:fixed;top:0;bottom:0;right:0;left:0;z-index:99999999}.mtt-fullscreen-skip{display:inline-block;font-size:12px;color:#000;border-radius:2px;border:3px solid #fbb040;position:absolute;right:15px;top:15px;z-index:3;height:26px;width:26px;box-sizing:border-box;background:#fbb040}.mtt-fullscreen-skip-cross{height:100%;background:50% 50% no-repeat url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MTIiIGhlaWdodD0iNTEyIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTc0Ljk2NiA0MzcuMDEzYy05OS45Ny05OS45Ny05OS45Ny0yNjIuMDY2IDAtMzYyLjAzNyAxMDAuMDAyLTk5Ljk3IDI2Mi4wNjctOTkuOTcgMzYyLjA2OCAwIDk5Ljk3IDk5Ljk3MSA5OS45NyAyNjIuMDY3IDAgMzYyLjAzNy0xMDAuMDAxIDk5Ljk4NS0yNjIuMDY2IDk5Ljk4NS0zNjIuMDY4IDB6bTMxNi44MTctMzE2Ljc4NmMtNzUuMDAxLTc0Ljk4NS0xOTYuNTY1LTc0Ljk4NS0yNzEuNTM1IDAtNzUuMDAxIDc0Ljk4NS03NS4wMDEgMTk2LjU1IDAgMjcxLjUzNSA3NC45NyA3NC45ODYgMTk2LjUzNCA3NC45ODYgMjcxLjUzNSAwIDc0Ljk3MS03NC45ODYgNzQuOTcxLTE5Ni41NSAwLTI3MS41MzV6bS0yMDMuNjU5IDI0OC45MWwtNDUuMjUxLTQ1LjI2NiA2Ny44NzYtNjcuODc3LTY3Ljg3Ni02Ny44NzYgNDUuMjUxLTQ1LjI2N0wyNTYgMjEwLjc0M2w2Ny44NzctNjcuODkyIDQ1LjI1IDQ1LjI2Ny02Ny44NzYgNjcuODc2IDY3Ljg3NiA2Ny44NzctNDUuMjUgNDUuMjY2TDI1NiAzMDEuMjQ1bC02Ny44NzYgNjcuODkyeiIvPjwvc3ZnPg==);background-size:contain}.mtt-fullscreen-skip-timer{text-align:center;height:100%;font-size:16px;font-family:Roboto,HelveticaNeue-Light,Helvetica Neue Light,Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif}.mtt-fullscreen-hidden{display:none}.mtt-fullscreen-overlay{z-index:1;position:fixed;top:0;bottom:0;right:0;left:0;background-color:rgba(0,0,0,.7)}.mtt-fullscreen-container{z-index:2;width:100%;height:100%;text-align:center;position:fixed;top:0;bottom:0;right:0;left:0}.mtt-fullscreen-container.mtt-centered{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}@media screen and (max-width:600px){.mtt-fullscreen-container.mtt-centered{width:430px;height:600px}}@media screen and (max-width:430px){.mtt-fullscreen-container.mtt-centered{width:410px;height:600px}}@media screen and (max-width:409px){.mtt-fullscreen-container.mtt-centered{width:375px;height:550px}}@media screen and (max-width:374px){.mtt-fullscreen-container.mtt-centered{width:360px;height:530px}}@media screen and (max-width:359px){.mtt-fullscreen-container.mtt-centered{width:320px;height:500px}}@media screen and (max-width:329px){.mtt-fullscreen-container.mtt-centered{width:320px;height:430px}}.mtt-fullscreen-image-container{position:fixed;top:0;bottom:0;right:0;left:0;padding:50px 5% 5%}.mtt-fullscreen-image-container *{-webkit-tap-highlight-color:transparent}.mtt-fullscreen-image{height:100%;width:100%;background-size:contain;background-position:50%;background-repeat:no-repeat;display:none}.mtt-fullscreen-container-html5{width:100%;height:100%;margin:0;padding:0;border:none;outline:none}@media (orientation:landscape){.mtt-fullscreen .mtt-fullscreen-image__landscape{display:block}}@media (orientation:portrait){.mtt-fullscreen .mtt-fullscreen-image__portrait{display:block}}@media screen and (max-width:600px){.mtt-fullscreen div[class*=yandex_rtb_R-A]{width:430px;height:600px}}@media screen and (max-width:430px){.mtt-fullscreen div[class*=yandex_rtb_R-A]{width:410px;height:600px}}@media screen and (max-width:409px){.mtt-fullscreen div[class*=yandex_rtb_R-A]{width:375px;height:550px}}@media screen and (max-width:374px){.mtt-fullscreen div[class*=yandex_rtb_R-A]{width:360px;height:530px}}@media screen and (max-width:359px){.mtt-fullscreen div[class*=yandex_rtb_R-A]{width:320px;height:500px}}@media screen and (max-width:329px){.mtt-fullscreen div[class*=yandex_rtb_R-A]{width:320px;height:430px}}",""]),t.exports=e},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=(a=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(c," */")),i=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[n].concat(i).concat([o]).join("\n")}var a,s,c;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var s=0;s<t.length;s++){var c=[].concat(t[s]);r&&o[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},function(t,e,n){var r,o,i={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),s=function(t,e){return e?e.querySelector(t):document.querySelector(t)},c=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var r=s.call(this,t,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),u=null,l=0,f=[],d=n(29);function p(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=i[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(E(r.parts[a],e))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(E(r.parts[a],e));i[r.id]={id:r.id,refs:1,parts:s}}}}function h(t,e){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],a=e.base?i[0]+e.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function b(t,e){var n=c(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=f[f.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),f.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=c(t.insertAt.before,n);n.insertBefore(e,o)}}function v(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=f.indexOf(t);e>=0&&f.splice(e,1)}function y(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var r=function(){0;return n.nc}();r&&(t.attrs.nonce=r)}return m(e,t.attrs),b(t,e),e}function m(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function E(t,e){var n,r,o,i;if(e.transform&&t.css){if(!(i="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=i}if(e.singleton){var a=l++;n=u||(u=y(e)),r=w.bind(null,n,a,!1),o=w.bind(null,n,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",m(e,t.attrs),b(t,e),e}(e),r=x.bind(null,n,e),o=function(){v(n),n.href&&URL.revokeObjectURL(n.href)}):(n=y(e),r=_.bind(null,n),o=function(){v(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=h(t,e);return p(n,e),function(t){for(var r=[],o=0;o<n.length;o++){var a=n[o];(s=i[a.id]).refs--,r.push(s)}t&&p(h(t,e),e);for(o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete i[s.id]}}}};var g,O=(g=[],function(t,e){return g[t]=e,g.filter(Boolean).join("\n")});function w(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=O(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function _(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function x(t,e,n){var r=n.css,o=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||i)&&(r=d(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},function(t,e,n){"use strict";t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var o,i=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?t:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return d}));var r=n(21),o=n(18),i=n(24),a=n(20),s=n(22),c=n(23),u=n(0),l=n(11),f=function(){function t(t){this._namespace=t}return t.prototype.setGlobals=function(t){return u.a.debug=Boolean(t.debug),u.a.adfoxNoFallback=Boolean(t.debug),this},t.prototype.noConflict=function(){return delete window[this._namespace],this},t.prototype.headerBidding=function(t){return l.a.init(t)},t.prototype.billboard=function(t){return Object(r.a)(t)},t.prototype.inread=function(t){return Object(o.a)(t)},t.prototype.inreadInfiniteScroll=function(t){return Object(i.a)(t)},t.prototype.fullscreen=function(t){return Object(a.a)(t)},t.prototype.adhesion=function(t){return Object(s.a)(t)},t.prototype.wrapper=function(t){return Object(c.a)(t)},t}();function d(){try{window.MTT=new f("MTT")}catch(t){console.error(t)}}d()}]);